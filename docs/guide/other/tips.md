<!-- 源地址: https://iot.mi.com/vela/quickapp/zh/guide/other/tips.html -->

# # 注意事项

## # 手表中的异常场景

  1. 网络异常，在没有网络的情况下提示
  2. 数据异常（没有获取到数据，或者后端接口返回错误）处理
  3. JS代码错误处理
  4. 按钮防止重复点击（点击后发请求的操作尤其要注意）
  5. 息屏后重新亮屏会重新触发onReady、onShow生命周期函数

## # 代码规范

  1. app.ux文件中的代码，必须写到`<script></script>`中，否则代码不会执行！
  2. *.ux文件中，`template`节点只能有一个根节点
  3. 角度相关的css属性必须书写单位，比如`total-angle: 360deg`
  4. `list-item`中，谨慎使用`if`/`else`/`show`等条件判断，保证所有的`list-item`结构一致
  5. `image`的`src`属性不要使用变量拼接（比如 `src="/common/{{type}}`），否则编译器打包代码会显示警告，建议直接使用变量`src="{{imgPath}}"`

## # 常见优化

  1. 减少网络请求次数和并发数
  2. 数据实时性要求不高的接口考虑做本地缓存（缓存也要考虑数据大小）
  3. 控制本地文件数量，避免直接遍历文件获取所有文件大小
  4. 尽可能使用低分辨率的网络图片
  5. 列表使用分页，每一页保持在20个item以内比较好
  6. 网络请求的数据，不要直接存储在内存中，只存储需要用到的字段
  7. 谨慎使用三方依赖，使用轻量级的依赖
  8. 公共代码可以考虑放到全局，不要多次引入
  9. 添加loading态，防止按钮频繁点击后发起多次网络请求

← [ 常见问题 ](</vela/quickapp/zh/guide/other/faq.html>)

快速导航

手表中的异常场景

代码规范

常见优化
